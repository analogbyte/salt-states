# This is a minimized config for the salt master, as most of the defaults are
# well chosen.

# This removes unnecessary output from the salt command
state_output: mixed

# This sets the gitfs backend as our only method of state retrieval.
# Environments are mapped to branches of the same name, while master maps to
# the base environment.
fileserver_backend:
  - roots
  - git

runner_dirs:
  - /srv/runners

# Specify the exact location of one or more git repositorys here:
gitfs_remotes:
  - git@github.com:danieljn/salt-states.git

# Specify the directories used for the state tree
file_roots:
  base:
    - /srv/salt/

reactor:
  - 'salt/key':
    - /srv/reactor/minion-accepted.sls
  - 'minion_start':
    - /srv/reactor/minion-connected.sls

schedule:
  highstate:
    function: state.highstate
    hours: 8
